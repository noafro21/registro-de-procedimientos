<!DOCTYPE html>
<html>

<head>
    <base target="_top" />
    <title>Registro de Biopsias</title>
    <?!= include('stylesRegistroBiopsias'); ?>
    <?!= include('stylesBotonRegresar'); ?>
</head>

<body>
    <!-- Bot√≥n para volver al men√∫ principal -->
    <button class="back-button" onclick="volverAlMenu()" title="Volver al Men√∫ Principal">
        <span class="back-button-icon">‚Üê</span>
    </button>

    <div class="container">
        <form id="registroBiopsiaForm" onsubmit="guardarBiopsia(); return false;">
            <h2>üìã Registro de Biopsias</h2>

            <!-- Mensaje de estado din√°mico -->
            <div id="formMessage" class="message-container"></div>

            <!-- Secci√≥n: Informaci√≥n de la Muestra -->
            <fieldset class="form-section">
                <legend>üß™ Informaci√≥n de la Muestra</legend>

                <div class="form-row">
                    <div class="form-group">
                        <label for="fecha_toma">Fecha de Toma <span class="required">*</span>:</label>
                        <input type="date" id="fecha_toma" required />
                        <small class="field-help">Fecha en que se tom√≥ la muestra</small>
                        <div id="fecha_toma_error" class="field-error"></div>
                    </div>
                </div>

                <div class="frascos-group">
                    <div class="form-group">
                        <label for="frascos_gastro">Frascos Gastroscop√≠a:</label>
                        <input type="number" id="frascos_gastro" min="0" max="20" value="0" />
                    </div>
                    <div class="form-group">
                        <label for="frascos_colon">Frascos Colonoscop√≠a:</label>
                        <input type="number" id="frascos_colon" min="0" max="20" value="0" />
                    </div>
                    <div class="total-frascos">
                        <strong>Total: <span id="total_frascos">0</span> frascos</strong>
                    </div>
                </div>
            </fieldset>

            <!-- Secci√≥n: Informaci√≥n del Paciente -->
            <fieldset class="form-section">
                <legend>üë§ Informaci√≥n del Paciente</legend>

                <div class="form-row">
                    <div class="form-group">
                        <label for="cedula">Identificaci√≥n:</label>
                        <input type="text" id="cedula" placeholder="C√©dula, Pasaporte o DIMEX" maxlength="18" />
                        <small class="field-help">Acepta c√©dula (9), DIMEX (11-12) o pasaporte</small>
                        <div id="cedula_error" class="field-error"></div>
                    </div>

                    <div class="form-group">
                        <label for="telefono">Tel√©fono:</label>
                        <input type="tel" id="telefono" placeholder="8888-8888" maxlength="12" />
                        <small class="field-help">Formato: 8888-8888</small>
                        <div id="telefono_error" class="field-error"></div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="nombre_cliente">Nombre Completo del Paciente *:</label>
                    <input type="text" id="nombre_cliente" placeholder="Nombre completo del paciente" required
                        autocomplete="name" />
                    <div id="nombre_error" class="field-error"></div>
                </div>
            </fieldset>

            <!-- Secci√≥n: Informaci√≥n M√©dica -->
            <fieldset class="form-section">
                <legend>üë®‚Äç‚öïÔ∏è Informaci√≥n M√©dica</legend>

                <div class="form-group">
                    <label for="medico">M√©dico Solicitante *:</label>
                    <select id="medico" required>
                        <option disabled selected value="">Cargando m√©dicos...</option>
                    </select>
                    <div id="medico_error" class="field-error"></div>
                </div>

                <div class="form-group">
                    <label for="comentario">Observaciones y Comentarios:</label>
                    <textarea id="comentario" placeholder="Observaciones cl√≠nicas, instrucciones especiales, etc."
                        rows="4" maxlength="500"></textarea>
                    <small class="field-help"><span id="comentario_count">0</span>/500 caracteres</small>
                </div>
            </fieldset>

            <!-- Botones de acci√≥n -->
            <div class="form-actions">
                <button type="button" onclick="limpiarFormulario()" class="btn-secondary">
                    üóëÔ∏è Limpiar Formulario
                </button>
                <button type="submit" class="btn-primary">
                    üíæ Guardar Biopsia
                </button>
            </div>
        </form>
    </div>

    <?!= include('scriptRegistroBiopsias'); ?>
    <?!= include('scriptBotonRegresar'); ?>
</body>

</html>