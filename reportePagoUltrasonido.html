<!DOCTYPE html>
<html lang="es" xml:lang="es">

<head>
    <title>Reporte de Pago de Ultrasonidos</title>
    <base target="_top">
    <?!= include('stylesReportePagoUltrasonido') ?>
    <?!= include('stylesBotonRegresar') ?>
</head>

<body>
    <!-- BotÃ³n para volver al menÃº principal -->
    <button class="back-button" onclick="volverAlMenu()" title="Volver al MenÃº Principal">
        <span class="back-button-icon">â†</span>
    </button>

    <div id="reportControls">
        <h2>Reporte de RadiologÃ­a</h2>

        <!-- âœ… MENSAJE DE STATUS DINÃMICO -->
        <div id="formMessage" class="message-container"></div>

        <label for="radiologo">Seleccione radiÃ³logo:</label>
        <select id="radiologo">
            <option disabled selected value="">Cargando radiÃ³logos...</option>
        </select>
        <button type="button" onclick="cargarEmailPersonal()" class="btn-small">ğŸ“§ Cargar Email</button>

        <!-- âœ… SELECTORES MEJORADOS - Se inicializarÃ¡n dinÃ¡micamente -->
        <label for="mes">Mes:</label>
        <select id="mes">
            <option disabled value="">Seleccione un mes</option>
            <!-- Se llenarÃ¡n dinÃ¡micamente -->
        </select>

        <label for="anio">AÃ±o:</label>
        <select id="anio">
            <option disabled value="">Seleccione un aÃ±o</option>
            <!-- Se llenarÃ¡n dinÃ¡micamente -->
        </select>

        <label for="quincena">Quincena:</label>
        <select id="quincena">
            <option disabled value="">Seleccione una quincena</option>
            <!-- Se llenarÃ¡n dinÃ¡micamente -->
        </select>

        <!-- âœ… BOTONES DE ACCIÃ“N MEJORADOS -->
        <div class="action-buttons">
            <button type="button" onclick="calcularPagos()" class="btn-primary">ğŸ“Š Calcular Reporte</button>
            <button type="button" onclick="actualizarSelectoresFecha()" class="btn-secondary">ğŸ”„ Actualizar
                Fechas</button>
            <button type="button" onclick="mostrarAyudaFechas()" class="btn-secondary">â“ Ayuda</button>
        </div>

        <!-- âœ… DESCRIPCIÃ“N DINÃMICA -->
        <div class="selection-info">
            <strong>PerÃ­odo seleccionado:</strong> <span id="descripcionSeleccion">Ninguna - Complete todos los
                campos</span>
        </div>
    </div>

    <!-- âœ… CONTENIDO DEL REPORTE IMPRIMIBLE -->
    <div id="printableReportContent">
        <div id="resultado"></div>
    </div>

    <!-- âœ… SECCIÃ“N DE ACCIONES PARA ENVIAR/DESCARGAR -->
    <div id="action-section" class="action-section">
        <h3>Opciones de Reporte</h3>
        <div class="action-row">
            <div class="form-group">
                <label for="emailRecipient">Email destinatario:</label>
                <input type="email" id="emailRecipient" placeholder="ejemplo@dominio.com" />
            </div>
            <div class="action-buttons">
                <button onclick="enviarReporteUltrasonido()" class="btn-enviar">ğŸ“§ Enviar Reporte</button>
                <button onclick="descargarReporteUltrasonidoPDF()" class="btn-descargar">ğŸ“¥ Descargar PDF</button>
            </div>
        </div>
        <div id="emailMessage" class="message-container"></div>
    </div>

    <!-- âœ… SCRIPT PRINCIPAL -->
    <?!= include('scriptReportePagoUltrasonido') ?>
    <?!= include('scriptBotonRegresar') ?>
</body>

</html>